using YamlDotNet.Serialization;

namespace PiHoleListUpdater.Models;

class UpdaterConfig
{
  [YamlMember(Alias = "block_lists")]
  public Dictionary<string, BlockListConfig[]> BlockLists { get; set; } = new();

  [YamlMember(Alias = "outputs")]
  public OutputsConfig Outputs { get; set; } = new();

  [YamlMember(Alias = "development")]
  public DevelopmentConfig Development { get; set; } = new();

  public class OutputsConfig
  {
    [YamlMember(Alias = "everything")]
    public string Everything { get; set; } = string.Empty;
  }

  public class DevelopmentConfig
  {
    [YamlMember(Alias = "enabled")]
    public bool Enabled { get; set; }

    [YamlMember(Alias = "use_cached_lists")]
    public bool UseCachedLists { get; set; }

    [YamlMember(Alias = "capture_responses")]
    public bool CaptureResponses { get; set; }

    [YamlMember(Alias = "cached_response_dir")]
    public string CachedResponseDir { get; set; } = "TestData/";

    [YamlMember(Alias = "capture_response_dir")]
    public string CaptureResponseDir { get; set; } = string.Empty;
  }
}

class BlockListConfig
{
  [YamlMember(Alias = "url")]
  public string ListUrl { get; set; } = string.Empty;

  [YamlMember(Alias = "restrictive")]
  public bool Restrictive { get; set; }
}
